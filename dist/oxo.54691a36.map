{"version":3,"sources":["js/libs/oxo.js"],"names":["window","oxo","width","innerWidth","height","innerHeight","animation","move","element","direction","distance","allowOutside","console","error","position","getPosition","newPosition","computeNewPosition","elPos","getBoundingClientRect","x","y","setPosition","Object","assign","style","transform","match","RegExp","values","map","value","parseInt","replace","translation","getMovableElement","movableElement","document","querySelector","speed","getAttribute","moveElementWithArrowKeys","interval","pressed","pixels","Math","round","log","addEventListener","event","key","indexOf","toLowerCase","push","setInterval","requestAnimationFrame","length","inputs","getDirectionFromPressedKeys","filter","clearInterval","elements","createElement","params","type","class","split","forEach","className","classList","add","styles","appendElement","appendTo","hostSelector","host","body","appendChild","onLeaveScreen","action","once","observer","IntersectionObserver","entries","entry","isIntersecting","disconnect","root","rootMargin","threshold","observe","onLeaveScreenOnce","onCollisionWithElement","target","colliding","elementsAreColliding","onCollisionWithElementOnce","element1","element2","element1Pos","element2Pos","keys","enter","space","left","up","right","down","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","z","keysListeners","listenKey","code","bind","listenKeys","listenArrowKeys","listenKeyOnce","cancelKeyListener","cancelKeysListeners","cancelKeysListener","cancelArrowKeysListeners","listenAllKeys","listener","keyCode","dir","every","dirPart","player","addToScore","points","setScore","getScore","localStorage","getItem","removeFromScore","newScore","max","setItem","refreshScore","scoreElement","getElement","innerText","screens","currentScreen","loadScreen","name","fetch","then","response","ok","text","html","innerHTML","setAttribute","call","getCurrentScreen","utils","getRandomNumber","min","floor","random","init","message","attribute"],"mappings":"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","file":"oxo.54691a36.map","sourceRoot":"..\\src","sourcesContent":["window.oxo = {\r\n  oxo: this,\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n\r\n  animation: {\r\n    /**\r\n     * Modify the transform property of an element to make it move\r\n     * @param {HTMLElement} element - The element to move\r\n     * @param {string} direction - The direction\r\n     * @param {number} distance - The number of pixels for the move\r\n     * @param {allowOutside} boolean - If true, the element can go off limits\r\n     * @return {Object} - An object containing the updated position x and y\r\n     */\r\n    move(element, direction, distance, allowOutside) {\r\n      if (!element) {\r\n        console.error('The element to move was not found');\r\n        return;\r\n      }\r\n\r\n      if (!distance) {\r\n        console.error('You must provide a distance to move an element');\r\n        return;\r\n      }\r\n\r\n      var position = oxo.animation.getPosition(element);\r\n      var newPosition = oxo.animation.computeNewPosition(\r\n        position,\r\n        direction,\r\n        distance\r\n      );\r\n\r\n      if (!allowOutside) {\r\n        var elPos = element.getBoundingClientRect();\r\n\r\n        if (\r\n          newPosition.x + elPos.width > oxo.width ||\r\n          newPosition.x < 0 ||\r\n          newPosition.y + elPos.height > oxo.height ||\r\n          newPosition.y < 0\r\n        ) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      oxo.animation.setPosition(element, newPosition);\r\n\r\n      return newPosition;\r\n    },\r\n\r\n    /**\r\n     * Modify a position object depending on direction and distance\r\n     * @param {Object} position - An object containing the x and y position\r\n     * @param {string} direction - The direction in which to move\r\n     * @param {number} distance - The distance to move\r\n     */\r\n    computeNewPosition(position, direction, distance) {\r\n      var newPosition = Object.assign({}, position);\r\n\r\n      switch (direction) {\r\n        case 'left':\r\n          newPosition.x -= distance;\r\n          break;\r\n        case 'left-up':\r\n          newPosition.y -= distance;\r\n          newPosition.x -= distance;\r\n          break;\r\n        case 'up':\r\n          newPosition.y -= distance;\r\n          break;\r\n        case 'right-up':\r\n          newPosition.y -= distance;\r\n          newPosition.x += distance;\r\n          break;\r\n        case 'right':\r\n          newPosition.x += distance;\r\n          break;\r\n        case 'right-down':\r\n          newPosition.x += distance;\r\n          newPosition.y += distance;\r\n          break;\r\n        case 'down':\r\n          newPosition.y += distance;\r\n          break;\r\n        case 'left-down':\r\n          newPosition.y += distance;\r\n          newPosition.x -= distance;\r\n          break;\r\n        default:\r\n          console.error(\r\n            'The direction provided (' + direction + ') is not valid'\r\n          );\r\n          return;\r\n      }\r\n\r\n      return newPosition;\r\n    },\r\n\r\n    /**\r\n     * Get the values of the translate property for the given element\r\n     * @param {HTMLElement} element - The element\r\n     * @return {Object} An object containing the x and the y position\r\n     */\r\n    getPosition(element) {\r\n      var position = element.style.transform.match(\r\n        new RegExp(/translate\\(.+\\)/)\r\n      );\r\n\r\n      if (position) {\r\n        var values = position[0].match(/-?\\d+/g).map(value => parseInt(value));\r\n        return {\r\n          x: values[0],\r\n          y: values[1],\r\n        };\r\n      } else {\r\n        return { x: 0, y: 0 };\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Set the translate property of the given element\r\n     * @param {HTMLElement} element - The element to move\r\n     * @param {Object} position - An object containing the x and y values\r\n     * @return {string} - The updated transform property\r\n     */\r\n    setPosition(element, position) {\r\n      var transform = element.style.transform.replace(/translate\\(.+\\)/, '');\r\n\r\n      var translation = 'translate(' + position.x + 'px, ' + position.y + 'px)';\r\n\r\n      return (element.style.transform = transform + translation);\r\n    },\r\n\r\n    /**\r\n     * Search for an element that can be moved and call the adequate function\r\n     * @return {HTMLElement} the element moved\r\n     */\r\n    getMovableElement() {\r\n      var movableElement = document.querySelector('[data-oxo-movable]');\r\n\r\n      if (movableElement) {\r\n        var speed = movableElement.getAttribute('data-oxo-speed');\r\n        speed = speed ? speed : 10;\r\n        oxo.animation.moveElementWithArrowKeys(movableElement, speed);\r\n\r\n        return movableElement;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Move an element when the user press the arrow keys\r\n     * @param {HTMLElement} element - The element to move\r\n     * @param {number} speed - The speed of the movement\r\n     */\r\n    moveElementWithArrowKeys(element, speed) {\r\n      var interval;\r\n      var pressed = [];\r\n      var pixels = speed > 100 ? Math.round(speed / 100) : 1;\r\n      console.log(pixels);\r\n\r\n      document.addEventListener('keydown', function(event) {\r\n        if (event.key.indexOf('Arrow') === 0) {\r\n          var direction = event.key.replace('Arrow', '').toLowerCase();\r\n\r\n          if (pressed.indexOf(direction) === -1) {\r\n            pressed.push(direction);\r\n\r\n            if (!interval) {\r\n              interval = setInterval(function() {\r\n                window.requestAnimationFrame(function() {\r\n                  if (pressed.length) {\r\n                    oxo.animation.move(\r\n                      element,\r\n                      oxo.inputs.getDirectionFromPressedKeys(pressed),\r\n                      pixels,\r\n                      false\r\n                    );\r\n                  }\r\n                });\r\n              }, 100 / speed);\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      document.addEventListener('keyup', function(event) {\r\n        if (event.key.indexOf('Arrow') === 0) {\r\n          var direction = event.key.replace('Arrow', '').toLowerCase();\r\n\r\n          pressed = pressed.filter(key => key !== direction);\r\n          if (!pressed.length) {\r\n            clearInterval(interval);\r\n            interval = null;\r\n          }\r\n        }\r\n      });\r\n    },\r\n  },\r\n\r\n  elements: {\r\n    /**\r\n     * Create an HTML element\r\n     * @param {*} params - An object containing the element parameters\r\n     * @return {HTMLElement} The created element\r\n     */\r\n    createElement(params) {\r\n      var element = document.createElement(params.type ? params.type : 'div');\r\n\r\n      if (params.class) {\r\n        params.class.split(' ').forEach(function(className) {\r\n          element.classList.add(className);\r\n        });\r\n      }\r\n\r\n      if (params.styles) {\r\n        for (style in params.styles) {\r\n          element.style[style] = params.styles[style];\r\n        }\r\n      }\r\n\r\n      oxo.elements.appendElement(element, params.appendTo);\r\n\r\n      return element;\r\n    },\r\n\r\n    /**\r\n     * Append an element inside another one\r\n     * @param {HTMLElement} element - The element to append\r\n     * @param {string} hostSelector - The string to select the host element\r\n     */\r\n    appendElement(element, hostSelector) {\r\n      var host = hostSelector\r\n        ? document.querySelector(hostSelector)\r\n        : document.body;\r\n\r\n      if (!host) {\r\n        return;\r\n      }\r\n\r\n      host.appendChild(element);\r\n    },\r\n\r\n    /**\r\n     * Execute an action when the given element collides with the border\r\n     * @param {HTMLElement} element - The element to observe\r\n     * @param {Function} action - The action to execute\r\n     * @param {boolean} once - If true, the action will be executed only once\r\n     * @return {IntersectionObserver} - The observer\r\n     */\r\n    onLeaveScreen(element, action, once) {\r\n      var observer = new IntersectionObserver(\r\n        function(entries) {\r\n          entries.forEach(function(entry) {\r\n            if (!entry.isIntersecting) {\r\n              action();\r\n\r\n              if (once) {\r\n                observer.disconnect();\r\n              }\r\n            }\r\n          });\r\n        },\r\n        {\r\n          root: null,\r\n          rootMargin: '0px',\r\n          threshold: 1.0,\r\n        }\r\n      );\r\n      observer.observe(element);\r\n\r\n      return observer;\r\n    },\r\n\r\n    /**\r\n     * Execute an action once the given element collides with the border\r\n     * @param {HTMLElement} element - The element to observe\r\n     * @param {Function} action - The action to execute\r\n     * @return {IntersectionObserver} - The observer\r\n     */\r\n    onLeaveScreenOnce(element, action) {\r\n      return oxo.elements.onLeaveScreen(element, action, true);\r\n    },\r\n\r\n    /**\r\n     * Execute an action when two element collides\r\n     * @param {HTMLElement} element - The element to observe\r\n     * @param {HTMLElement} target - The element to collide with\r\n     * @param {Function} action - The action to execute\r\n     * @param {boolean} once - If true, the action is executed only once\r\n     * @return {Interval} - The timer used for checking\r\n     */\r\n    onCollisionWithElement(element, target, action, once) {\r\n      var colliding = false;\r\n\r\n      var interval = setInterval(function() {\r\n        if (oxo.elements.elementsAreColliding(element, target)) {\r\n          if (!colliding) {\r\n            action();\r\n            colliding = true;\r\n\r\n            if (once) {\r\n              clearInterval(interval);\r\n            }\r\n          }\r\n        } else {\r\n          colliding = false;\r\n        }\r\n      }, 10);\r\n\r\n      return interval;\r\n    },\r\n\r\n    /**\r\n     * Execute an action once when two element collides\r\n     * @param {HTMLElement} element - The element to observe\r\n     * @param {HTMLElement} target - The element to collide with\r\n     * @param {Function} action - The action to execute\r\n     * @return {Interval} - The timer used for checking\r\n     */\r\n    onCollisionWithElementOnce(element, target, action) {\r\n      return oxo.elements.onCollisionWithElement(element, target, action, true);\r\n    },\r\n\r\n    /**\r\n     * Test if two elements are in collision\r\n     * @param {HTMLElement} element1 - The first element\r\n     * @param {HTMLElement} element2 - The second element\r\n     */\r\n    elementsAreColliding(element1, element2) {\r\n      var element1Pos = element1.getBoundingClientRect();\r\n      var element2Pos = element2.getBoundingClientRect();\r\n\r\n      return (\r\n        element1Pos.x < element2Pos.x + element2Pos.width &&\r\n        element1Pos.x + element1Pos.width > element2Pos.x &&\r\n        element1Pos.y < element2Pos.y + element2Pos.height &&\r\n        element1Pos.height + element1Pos.y > element2Pos.y\r\n      );\r\n    },\r\n  },\r\n\r\n  inputs: {\r\n    keys: {\r\n      enter: 13,\r\n      space: 32,\r\n      left: 37,\r\n      up: 38,\r\n      right: 39,\r\n      down: 40,\r\n      a: 65,\r\n      b: 66,\r\n      c: 67,\r\n      d: 68,\r\n      e: 69,\r\n      f: 70,\r\n      g: 71,\r\n      h: 72,\r\n      i: 73,\r\n      j: 74,\r\n      k: 75,\r\n      l: 76,\r\n      m: 77,\r\n      n: 78,\r\n      o: 79,\r\n      p: 80,\r\n      q: 81,\r\n      r: 82,\r\n      s: 83,\r\n      t: 84,\r\n      u: 85,\r\n      v: 86,\r\n      w: 87,\r\n      x: 88,\r\n      y: 89,\r\n      z: 90,\r\n    },\r\n    keysListeners: {},\r\n\r\n    /**\r\n     * Execute the given action each time the given key is pressed\r\n     * @param {string} key - The key to press to trigger the action\r\n     * @param {Function} action - The function that will be executed\r\n     * @param {boolean} once - If true, the action will be executed only once\r\n     */\r\n    listenKey(key, action, once) {\r\n      if (!once) {\r\n        once = false;\r\n      }\r\n\r\n      var code = oxo.inputs.keys[key];\r\n\r\n      if (!code) {\r\n        console.error('The key \"' + code + '\" cannot be found');\r\n        return;\r\n      }\r\n\r\n      oxo.inputs.keysListeners[code] = {\r\n        action: action.bind(this, key),\r\n        once: once,\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Execute the given action each time one of the given key is pressed\r\n     * @param {Array<string>} keys - The keys that should trigger the action\r\n     * @param {Function} action - The action to execute\r\n     */\r\n    listenKeys(keys, action) {\r\n      keys.forEach(function(key) {\r\n        oxo.inputs.listenKey(key, action);\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Execute the given action each time an arrow key is pressed\r\n     * @param {Function} action - The action to execute\r\n     */\r\n    listenArrowKeys(action) {\r\n      oxo.inputs.listenKeys(['left', 'up', 'right', 'down'], action);\r\n    },\r\n\r\n    /**\r\n     * Execute the given action the next time the given key is pressed\r\n     * @param {string} key - The key to press to trigger the action\r\n     * @param {Function} action - The function that will be executed\r\n     * */\r\n    listenKeyOnce(key, action) {\r\n      oxo.inputs.listenKey(key, action, true);\r\n    },\r\n\r\n    /**\r\n     * Cancel the listener for the given key\r\n     * @param {string} key - The key to stop listening to\r\n     */\r\n    cancelKeyListener(key) {\r\n      delete oxo.inputs.keysListeners[oxo.inputs.keys[key]];\r\n    },\r\n\r\n    /**\r\n     * Cancel the listeners for several keys\r\n     * @param {Array<string>} - The keys to stop listening to\r\n     */\r\n    cancelKeysListeners(keys) {\r\n      keys.forEach(function(key) {\r\n        oxo.inputs.cancelKeysListener(key);\r\n      });\r\n    },\r\n\r\n    /** Cancel the listening of arrow keys */\r\n    cancelArrowKeysListeners() {\r\n      oxo.inputs.cancelKeysListener(['left', 'up', 'right', 'down']);\r\n    },\r\n\r\n    /**\r\n     * This method will be executed on initialization to listen all the keys\r\n     */\r\n    listenAllKeys() {\r\n      document.addEventListener('keydown', function(event) {\r\n        listener = oxo.inputs.keysListeners[event.keyCode];\r\n        if (listener) {\r\n          listener.action();\r\n\r\n          if (listener.once) {\r\n            delete oxo.inputs.keysListeners[event.keyCode];\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Get the direction by combining the differents keys pressed\r\n     * @param {Array<string>} pressed - The direction currently pressed\r\n     * @return {string} the direction\r\n     */\r\n    getDirectionFromPressedKeys(pressed) {\r\n      var direction = pressed[0];\r\n\r\n      ['left-up', 'left-down', 'right-up', 'right-down'].forEach(function(dir) {\r\n        if (\r\n          dir.split('-').every(function(dirPart) {\r\n            return pressed.indexOf(dirPart) > -1;\r\n          })\r\n        ) {\r\n          direction = dir;\r\n        }\r\n      });\r\n\r\n      return direction;\r\n    },\r\n  },\r\n\r\n  player: {\r\n    /**\r\n     * Add one or several points to the score\r\n     * @param {number} points - The number of points to add\r\n     * @return {number} The new score\r\n     */\r\n    addToScore(points) {\r\n      oxo.log('Add ' + points + ' points to the score');\r\n\r\n      return oxo.player.setScore(oxo.player.getScore() + points);\r\n    },\r\n\r\n    /**\r\n     * Get the score\r\n     * @return {number} The score\r\n     */\r\n    getScore() {\r\n      return parseInt(localStorage.getItem('score'));\r\n    },\r\n\r\n    /**\r\n     * Remove one or several points from the score\r\n     * @param {number} points - The number of points to remove\r\n     * @return {number} The new score\r\n     */\r\n    removeFromScore(points) {\r\n      var newScore = Math.max(0, oxo.player.getScore() - points);\r\n      oxo.log('Remove ' + points + ' points from the score');\r\n\r\n      return oxo.player.setScore(newScore);\r\n    },\r\n\r\n    /**\r\n     * Set the score\r\n     * @param {number} points - The score\r\n     * @return {number} The score\r\n     */\r\n    setScore(points) {\r\n      localStorage.setItem('score', points);\r\n      oxo.log('New score is ' + points);\r\n\r\n      oxo.player.refreshScore();\r\n\r\n      return points;\r\n    },\r\n\r\n    /**\r\n     * Refresh the score display\r\n     */\r\n    refreshScore() {\r\n      var scoreElement = oxo.getElement('score');\r\n\r\n      if (scoreElement) {\r\n        scoreElement.innerText = oxo.player.getScore();\r\n      }\r\n    },\r\n  },\r\n\r\n  screens: {\r\n    currentScreen: '',\r\n    /**\r\n     * Load a new screen (and add matching class to the body)\r\n     * @param {string} name - The name of the html file for the screen to load\r\n     * @param {Function} action - The function to execute after loading\r\n     * @return {Promise} - The fetch promise\r\n     */\r\n    loadScreen(name, action) {\r\n      return fetch('../../screens/' + name + '.html').then(function(response) {\r\n        if (response.ok) {\r\n          response.text().then(function(html) {\r\n            document.body.innerHTML = html;\r\n            document.body.setAttribute('class', name);\r\n            oxo.log('Load screen ' + name);\r\n            oxo.player.refreshScore();\r\n            oxo.animation.getMovableElement();\r\n\r\n            if (action) {\r\n              action.call();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Get the name of the current screen\r\n     * @return {string} the current screen\r\n     */\r\n    getCurrentScreen() {\r\n      return oxo.screens.currentScreen;\r\n    },\r\n  },\r\n\r\n  utils: {\r\n    /**\r\n     * Get a random number between two limits\r\n     * @param {number} min - The min number\r\n     * @param {number} max - The max number\r\n     * @return {number} - The random number\r\n     */\r\n    getRandomNumber(min, max) {\r\n      return Math.floor(Math.random() * (max - min + 1) + min);\r\n    },\r\n  },\r\n\r\n  /**\r\n   * A function that will be run when oxo is called in order to init the game\r\n   */\r\n  init() {\r\n    oxo.screens.loadScreen('home');\r\n    oxo.inputs.listenAllKeys();\r\n    oxo.player.setScore(0);\r\n  },\r\n\r\n  /**\r\n   * Pretty logger for oxo events\r\n   * @param {string} message - The information to log\r\n   */\r\n  log(message) {\r\n    console.log('%c OXO: ' + message, 'background-color: gold; padding: 5px');\r\n  },\r\n\r\n  /**\r\n   * Find an element with an oxo data attribute in the DOM\r\n   * @param {string} attribute - The data attribute of the element (oxo-data-*)\r\n   */\r\n  getElement(attribute) {\r\n    return document.querySelector('[data-oxo-' + attribute + ']');\r\n  },\r\n};\r\n\r\nwindow.oxo.init();\r\n"]}